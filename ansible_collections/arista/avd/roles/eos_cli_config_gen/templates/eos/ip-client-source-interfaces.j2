{#
 Copyright (c) 2023 Arista Networks, Inc.
 Use of this source code is governed by the Apache License 2.0
 that can be found in the LICENSE file.
#}
{# eos - ip client source-interfaces #}
{% if ip_ftp_client_source_interfaces is arista.avd.defined
      or ip_http_client_source_interfaces is arista.avd.defined
      or ip_ssh_client_source_interfaces is arista.avd.defined
      or ip_telnet_client_source_interfaces is arista.avd.defined
      or ip_tftp_client_source_interfaces is arista.avd.defined %}
!
{%     if ip_ftp_client_source_interfaces is arista.avd.defined %}
{%         for ip_ftp_client_source_interface in ip_ftp_client_source_interfaces %}
{%             if ip_ftp_client_source_interface.name is arista.avd.defined %}
{%                 set ip_ftp_client_cli = "ip ftp client source-interface " ~ ip_ftp_client_source_interface.name | capitalize %}
{%                 if ip_ftp_client_source_interface.vrf is arista.avd.defined %}
{%                     set ip_ftp_client_cli = ip_ftp_client_cli ~ " vrf " ~ ip_ftp_client_source_interface.vrf %}
{%                 endif %}
{{ ip_ftp_client_cli }}
{%             endif %}
{%         endfor %}
{%     endif %}
{%     for ip_http_client_source_interface in ip_http_client_source_interfaces | arista.avd.natural_sort %}
{%         set ip_http_client_cli = "ip http client" %}
{%         if ip_http_client_source_interface.name is arista.avd.defined %}
{%             set ip_http_client_cli = ip_http_client_cli ~ " local-interface " ~ ip_http_client_source_interface.name %}
{%             if ip_http_client_source_interface.vrf is arista.avd.defined %}
{%                 set ip_http_client_cli = ip_http_client_cli ~ " vrf " ~ ip_http_client_source_interface.vrf %}
{%             endif %}
{{ ip_http_client_cli }}
{%         endif %}
{%     endfor %}
{%     if ip_ssh_client_source_interfaces is arista.avd.defined %}
{%         for ip_ssh_client_source_interface in ip_ssh_client_source_interfaces | arista.avd.natural_sort %}
{%             if ip_ssh_client_source_interface.name is arista.avd.defined %}
{%                 set ip_ssh_client_cli = "ip ssh client source-interface " ~ ip_ssh_client_source_interface.name | capitalize %}
{%                 if ip_ssh_client_source_interface.vrf is arista.avd.defined %}
{%                     set ip_ssh_client_cli = ip_ssh_client_cli ~ " vrf " ~ ip_ssh_client_source_interface.vrf %}
{%                 endif %}
{{ ip_ssh_client_cli }}
{%             endif %}
{%         endfor %}
{%     endif %}
{%     if ip_telnet_client_source_interfaces is arista.avd.defined %}
{%         for ip_telnet_client_source_interface in ip_telnet_client_source_interfaces %}
{%             if ip_telnet_client_source_interface.name is arista.avd.defined %}
{%                 set ip_telnet_client_cli = "ip telnet client source-interface " ~ ip_telnet_client_source_interface.name | capitalize %}
{%                 if ip_telnet_client_source_interface.vrf is arista.avd.defined %}
{%                     set ip_telnet_client_cli = ip_telnet_client_cli ~ " vrf " ~ ip_telnet_client_source_interface.vrf %}
{%                 endif %}
{{ ip_telnet_client_cli }}
{%             endif %}
{%         endfor %}
{%     endif %}
{%     if ip_tftp_client_source_interfaces is arista.avd.defined %}
{%         for ip_tftp_client_source_interface in ip_tftp_client_source_interfaces %}
{%             if ip_tftp_client_source_interface.name is arista.avd.defined %}
{%                 set ip_tftp_client_cli = "ip tftp client source-interface " ~ ip_tftp_client_source_interface.name | capitalize %}
{%                 if ip_tftp_client_source_interface.vrf is arista.avd.defined %}
{%                     set ip_tftp_client_cli = ip_tftp_client_cli ~ " vrf " ~ ip_tftp_client_source_interface.vrf %}
{%                 endif %}
{{ ip_tftp_client_cli }}
{%             endif %}
{%         endfor %}
{%     endif %}
{% endif %}
