# Copyright (c) 2023 Arista Networks, Inc.
# Use of this source code is governed by the Apache License 2.0
# that can be found in the LICENSE file.
# yaml-language-server: $schema=../../../../plugins/plugin_utils/schema/avd_meta_schema.json
# Line above is used by RedHat's YAML Schema vscode extension
# Use Ctrl + Space to get suggestions for every field. Autocomplete will pop up after typing 2 letters.
type: dict
keys:
  router_bgp:
    type: dict
    keys:
      as:
        type: str
        description: BGP AS <1-4294967295> or AS number in asdot notation "<1-65535>.<0-65535>"
        convert_types:
          - int
      router_id:
        type: str
        description: In IP address format A.B.C.D
      distance:
        type: dict
        keys:
          external_routes:
            type: int
            required: true
            convert_types:
              - str
            min: 1
            max: 255
          internal_routes:
            type: int
            required: true
            convert_types:
              - str
            min: 1
            max: 255
          local_routes:
            type: int
            required: true
            convert_types:
              - str
            min: 1
            max: 255
      graceful_restart:
        type: dict
        keys:
          enabled:
            type: bool
          restart_time:
            type: int
            convert_types:
              - str
            min: 1
            max: 3600
            description: Number of seconds
          stalepath_time:
            type: int
            convert_types:
              - str
            min: 1
            max: 3600
            description: Number of seconds
      graceful_restart_helper:
        type: dict
        keys:
          enabled:
            type: bool
          restart_time:
            type: int
            convert_types:
              - str
            min: 1
            max: 100000000
            description: |
              Number of seconds
              graceful-restart-help long-lived and restart-time are mutually exclusive in CLI.
              restart-time will take precedence if both are configured.
          long_lived:
            type: bool
            description: |
              graceful-restart-help long-lived and restart-time are mutually exclusive in CLI.
              restart-time will take precedence if both are configured.
      maximum_paths:
        type: dict
        keys:
          paths:
            type: int
            required: true
            convert_types:
              - str
            min: 1
            max: 600
          ecmp:
            type: int
            convert_types:
              - str
            min: 1
            max: 600
      updates:
        type: dict
        keys:
          wait_for_convergence:
            type: bool
            description: |
              Disables FIB updates and route advertisement when the BGP instance is initiated until the BGP convergence state is reached.
          wait_install:
            type: bool
            description: |
              Do not advertise reachability to a prefix until that prefix has been installed in hardware.
              This will eliminate any temporary black holes due to a BGP speaker advertising reachability to a prefix that may not yet be installed into the forwarding plane.
      bgp_cluster_id:
        type: str
        description: IP Address A.B.C.D
      bgp_defaults:
        type: list
        description: BGP command as string
        items:
          type: str
      bgp:
        type: dict
        keys:
          default:
            type: dict
            keys:
              ipv4_unicast:
                type: bool
                description: Default activation of IPv4 unicast address-family on all IPv4 neighbors (EOS default = True).
              ipv4_unicast_transport_ipv6:
                type: bool
                description: Default activation of IPv4 unicast address-family on all IPv6 neighbors (EOS default == False).
          route_reflector_preserve_attributes:
            type: dict
            keys:
              enabled:
                type: bool
              always:
                type: bool
          bestpath:
            type: dict
            keys:
              d_path:
                type: bool
      listen_ranges:
        type: list
        description: |
          Improved "listen_ranges" data model to support multiple listen ranges and additional filter capabilities
        items:
          type: dict
          keys:
            prefix:
              type: str
              description: IPv4 prefix "A.B.C.D/E" or IPv6 prefix "A:B:C:D:E:F:G:H/I"
            peer_id_include_router_id:
              type: bool
              description: Include router ID as part of peer filter
            peer_group:
              type: str
              description: Peer group name
            peer_filter:
              type: str
              description: |
                Peer-filter name
                note: `peer_filter` or `remote_as` is required but mutually exclusive.
                If both are defined, `peer_filter` takes precedence
            remote_as:
              type: str
              convert_types:
                - int
              description: BGP AS <1-4294967295> or AS number in asdot notation "<1-65535>.<0-65535>"
      peer_groups:
        type: list
        primary_key: name
        convert_types:
          - dict
        items:
          type: dict
          keys:
            name:
              type: str
              description: Peer-group name
            type:
              type: str
              description: Key only used for documentation or validation purposes
            remote_as:
              type: str
              description: BGP AS <1-4294967295> or AS number in asdot notation "<1-65535>.<0-65535>"
              convert_types:
                - int
            local_as:
              type: str
              description: BGP AS <1-4294967295> or AS number in asdot notation "<1-65535>.<0-65535>"
              convert_types:
                - int
            description:
              type: str
            shutdown:
              type: bool
            as_path:
              type: dict
              description: BGP AS-PATH options
              keys:
                remote_as_replace_out:
                  type: bool
                  description: Replace AS number with local AS number
                prepend_own_disabled:
                  type: bool
                  description: Disable prepending own AS number to AS path
            remove_private_as:
              type: dict
              description: Remove private AS numbers in outbound AS path
              keys:
                enabled:
                  type: bool
                all:
                  type: bool
                replace_as:
                  type: bool
            remove_private_as_ingress:
              type: dict
              keys:
                enabled:
                  type: bool
                replace_as:
                  type: bool
            peer_filter:
              type: str
              description: |
                Peer-filter name
                note: `bgp_listen_range_prefix` and `peer_filter` should not be mixed with
                the new `listen_ranges` key above to avoid conflicts.
              deprecation:
                warning: true
                remove_in_version: 5.0.0
                new_key: listen_ranges
            next_hop_unchanged:
              type: bool
            update_source:
              type: str
              description: IP address or interface name
            route_reflector_client:
              type: bool
            bfd:
              type: bool
            ebgp_multihop:
              type: int
              min: 1
              max: 255
              description: Time-to-live in range of hops
              convert_types:
                - str
            next_hop_self:
              type: bool
            password:
              type: str
            passive:
              type: bool
            default_originate:
              type: dict
              keys:
                enabled:
                  type: bool
                always:
                  type: bool
                route_map:
                  type: str
                  description: Route-map name
            send_community:
              type: str
              description: "'all' or a combination of 'standard', 'extended', 'large' and 'link-bandwidth (w/options)'"
            maximum_routes:
              type: int
              description: Maximum number of routes (0 means unlimited)
              min: 0
              max: 4294967294
              convert_types:
                - str
            maximum_routes_warning_limit:
              type: str
              description: |
                Maximum number of routes after which a warning is issued (0 means never warn) or
                Percentage of maximum number of routes at which to warn ("<1-100> percent")
              convert_types:
                - int
            maximum_routes_warning_only:
              type: bool
            link_bandwidth:
              type: dict
              keys:
                enabled:
                  type: bool
                default:
                  type: str
                  description: nn.nn(K|M|G) link speed in bits/second
            allowas_in:
              type: dict
              keys:
                enabled:
                  type: bool
                times:
                  type: int
                  description: Number of local ASNs allowed in a BGP update
                  convert_types:
                    - str
                  min: 1
                  max: 10
            weight:
              type: int
              min: 0
              max: 65535
              convert_types:
                - str
            timers:
              type: str
              description: BGP Keepalive and Hold Timer values in seconds as string "<0-3600> <0-3600>"
            rib_in_pre_policy_retain:
              type: dict
              keys:
                enabled:
                  type: bool
                all:
                  type: bool
            route_map_in:
              type: str
              description: Inbound route-map name
            route_map_out:
              type: str
              description: Outbound route-map name
            bgp_listen_range_prefix:
              type: str
              description: |
                IP prefix range
                note: `bgp_listen_range_prefix` and `peer_filter` should not be mixed with
                the new `listen_ranges` key above to avoid conflicts.
              deprecation:
                warning: true
                remove_in_version: 5.0.0
                new_key: listen_ranges
            session_tracker:
              type: str
      neighbors:
        type: list
        primary_key: ip_address
        convert_types:
          - dict
        items:
          type: dict
          keys:
            ip_address:
              type: str
            peer_group:
              type: str
            remote_as:
              type: str
              description: BGP AS <1-4294967295> or AS number in asdot notation "<1-65535>.<0-65535>"
              convert_types:
                - int
            local_as:
              type: str
              description: BGP AS <1-4294967295> or AS number in asdot notation "<1-65535>.<0-65535>"
              convert_types:
                - int
            as_path:
              type: dict
              description: BGP AS-PATH options
              keys:
                remote_as_replace_out:
                  type: bool
                  description: Replace AS number with local AS number
                prepend_own_disabled:
                  type: bool
                  description: Disable prepending own AS number to AS path
            peer:
              type: str
              description: Key only used for documentation or validation purposes
            description:
              type: str
            route_reflector_client:
              type: bool
            password:
              type: str
            passive:
              type: bool
            shutdown:
              type: bool
            update_source:
              type: str
              description: Source Interface
            bfd:
              type: bool
            weight:
              type: int
              min: 0
              max: 65535
              convert_types:
                - str
            timers:
              type: str
              description: BGP Keepalive and Hold Timer values in seconds as string "<0-3600> <0-3600>"
            route_map_in:
              type: str
              description: Inbound route-map name
            route_map_out:
              type: str
              description: Outbound route-map name
            default_originate:
              type: dict
              keys:
                enabled:
                  type: bool
                always:
                  type: bool
                route_map:
                  type: str
            send_community:
              type: str
              description: "'all' or a combination of 'standard', 'extended', 'large' and 'link-bandwidth (w/options)'"
            maximum_routes:
              type: int
              description: Maximum number of routes (0 means unlimited)
              min: 0
              max: 4294967294
              convert_types:
                - str
            maximum_routes_warning_limit:
              type: str
              description: |
                Maximum number of routes after which a warning is issued (0 means never warn) or
                Percentage of maximum number of routes at which to warn ("<1-100> percent")
              convert_types:
                - int
            maximum_routes_warning_only:
              type: bool
            allowas_in:
              type: dict
              keys:
                enabled:
                  type: bool
                times:
                  type: int
                  convert_types:
                    - str
                  min: 1
                  max: 10
                  description: Number of local ASNs allowed in a BGP update
            ebgp_multihop:
              type: int
              min: 1
              max: 255
              description: Time-to-live in range of hops
              convert_types:
                - str
            next_hop_self:
              type: bool
            link_bandwidth:
              type: dict
              keys:
                enabled:
                  type: bool
                default:
                  type: str
                  description: nn.nn(K|M|G) link speed in bits/second
            rib_in_pre_policy_retain:
              type: dict
              keys:
                enabled:
                  type: bool
                all:
                  type: bool
            remove_private_as:
              type: dict
              description: Remove private AS numbers in outbound AS path
              keys:
                enabled:
                  type: bool
                all:
                  type: bool
                replace_as:
                  type: bool
            remove_private_as_ingress:
              type: dict
              keys:
                enabled:
                  type: bool
                replace_as:
                  type: bool
            session_tracker:
              type: str
      neighbor_interfaces:
        type: list
        primary_key: name
        convert_types:
          - dict
        items:
          type: dict
          keys:
            name:
              type: str
              description: Interface name
            remote_as:
              type: str
              convert_types:
                - int
            peer:
              type: str
              description: Key only used for documentation or validation purposes
            peer_group:
              type: str
              default: Peer-group name
            description:
              type: str
            peer_filter:
              type: str
              description: Peer-filter name
      aggregate_addresses:
        type: list
        primary_key: prefix
        convert_types:
          - dict
        items:
          type: dict
          keys:
            prefix:
              type: str
              description: IPv4 prefix "A.B.C.D/E" or IPv6 prefix "A:B:C:D:E:F:G:H/I"
            advertise_only:
              type: bool
            as_set:
              type: bool
            summary_only:
              type: bool
            attribute_map:
              type: str
              description: Route-map name
            match_map:
              type: str
              description: Route-map name
      redistribute_routes:
        type: list
        primary_key: source_protocol
        convert_types:
          - dict
          - list
        items:
          type: dict
          keys:
            source_protocol:
              type: str
            route_map:
              type: str
            include_leaked:
              type: bool
      vlan_aware_bundles:
        type: list
        primary_key: name
        convert_types:
          - dict
        items:
          type: dict
          keys:
            name:
              type: str
              description: VLAN aware bundle name
            tenant:
              type: str
              description: Key only used for documentation or validation purposes
            description:
              type: str
              description: Key only used for documentation or validation purposes
            rd:
              description: Route distinguisher
              type: str
            rd_evpn_domain:
              type: dict
              keys:
                domain:
                  type: str
                  valid_values:
                    - "remote"
                    - "all"
                rd:
                  type: str
                  description: Route distinguisher
            route_targets:
              type: dict
              keys:
                both:
                  type: list
                  items:
                    type: str
                import:
                  type: list
                  items:
                    type: str
                export:
                  type: list
                  items:
                    type: str
                import_evpn_domains:
                  type: list
                  items:
                    type: dict
                    keys:
                      domain:
                        type: str
                        valid_values:
                          - "remote"
                          - "all"
                      route_target:
                        type: str
                export_evpn_domains:
                  type: list
                  items:
                    type: dict
                    keys:
                      domain:
                        type: str
                        valid_values:
                          - "remote"
                          - "all"
                      route_target:
                        type: str
                import_export_evpn_domains:
                  type: list
                  items:
                    type: dict
                    keys:
                      domain:
                        type: str
                        valid_values:
                          - "remote"
                          - "all"
                      route_target:
                        type: str
            redistribute_routes:
              type: list
              items:
                type: str
            no_redistribute_routes:
              type: list
              items:
                type: str
            vlan:
              type: str
              description: VLAN range as string. Example "100-200,300"
              convert_types:
                - int
            eos_cli:
              type: str
              description: Multiline EOS CLI rendered directly on the Router BGP, VLAN-aware-bundle definition in the final EOS configuration
      vlans:
        type: list
        primary_key: id
        convert_types:
          - dict
        items:
          type: dict
          keys:
            id:
              type: int
              convert_types:
                - str
            tenant:
              type: str
              description: Key only used for documentation or validation purposes
            rd:
              description: Route distinguisher
              type: str
            rd_evpn_domain:
              type: dict
              keys:
                domain:
                  type: str
                  valid_values:
                    - "remote"
                    - "all"
                rd:
                  type: str
                  description: Route distinguisher
            eos_cli:
              type: str
              description: Multiline EOS CLI rendered directly on the Router BGP, VLAN definition in the final EOS configuration
            route_targets:
              type: dict
              keys:
                both:
                  type: list
                  items:
                    type: str
                import:
                  type: list
                  items:
                    type: str
                export:
                  type: list
                  items:
                    type: str
                import_evpn_domains:
                  type: list
                  items:
                    type: dict
                    keys:
                      domain:
                        type: str
                        valid_values:
                          - "remote"
                          - "all"
                      route_target:
                        type: str
                export_evpn_domains:
                  type: list
                  items:
                    type: dict
                    keys:
                      domain:
                        type: str
                        valid_values:
                          - "remote"
                          - "all"
                      route_target:
                        type: str
                import_export_evpn_domains:
                  type: list
                  items:
                    type: dict
                    keys:
                      domain:
                        type: str
                        valid_values:
                          - "remote"
                          - "all"
                      route_target:
                        type: str
            redistribute_routes:
              type: list
              items:
                type: str
            no_redistribute_routes:
              type: list
              items:
                type: str
      vpws:
        type: list
        primary_key: name
        convert_types:
          - dict
        items:
          type: dict
          keys:
            name:
              type: str
              description: VPWS instance name
            rd:
              description: Route distinguisher
              type: str
            route_targets:
              type: dict
              keys:
                import_export:
                  type: str
                  description: Route Target
            mpls_control_word:
              type: bool
            label_flow:
              type: bool
            mtu:
              type: int
              convert_types:
                - str
            pseudowires:
              type: list
              primary_key: name
              convert_types:
                - dict
              items:
                type: dict
                keys:
                  name:
                    type: str
                    description: Pseudowire name
                  id_local:
                    type: int
                    convert_types:
                      - str
                    description: Must match id_remote on other pe
                  id_remote:
                    type: int
                    convert_types:
                      - str
                    description: Must match id_local on other pe
      address_family_evpn:
        type: dict
        keys:
          domain_identifier:
            type: str
          neighbor_default:
            type: dict
            keys:
              encapsulation:
                type: str
                valid_values:
                  - "vxlan"
                  - "mpls"
              next_hop_self_source_interface:
                description: Source interface name
                type: str
              next_hop_self_received_evpn_routes:
                type: dict
                keys:
                  enable:
                    type: bool
                  inter_domain:
                    type: bool
          peer_groups:
            type: list
            primary_key: name
            convert_types:
              - dict
            items:
              type: dict
              keys:
                name:
                  type: str
                  description: Peer-group name
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
                domain_remote:
                  type: bool
                encapsulation:
                  type: str
                  valid_values:
                    - "vxlan"
                    - "mpls"
                additional_paths:
                  type: dict
                  keys:
                    receive:
                      type: bool
                    send:
                      type: dict
                      keys:
                        any:
                          type: bool
                        backup:
                          type: bool
                        ecmp:
                          type: bool
                        ecmp_limit:
                          type: int
                          description: Amount of ECMP paths to send
                          convert_types:
                            - str
                          min: 2
                          max: 64
                        limit:
                          type: int
                          description: Amount of paths to send
                          convert_types:
                            - str
                          min: 2
                          max: 64
          evpn_hostflap_detection:
            type: dict
            keys:
              enabled:
                type: bool
              window:
                type: int
                description: Time (in seconds) to detect a MAC duplication issue
                min: 0
                max: 4294967295
                convert_types:
                  - str
              threshold:
                type: int
                min: 0
                max: 4294967295
                convert_types:
                  - str
                description: Minimum number of MAC moves that indicate a MAC Duplication issue
              expiry_timeout:
                type: int
                min: 0
                max: 4294967295
                convert_types:
                  - str
                description: Time (in seconds) to purge a MAC duplication issue
          next_hop:
            type: dict
            keys:
              resolution_disabled:
                type: bool
          route:
            type: dict
            keys:
              import_match_failure_action:
                type: str
                valid_values:
                  - "discard"
          next_hop_unchanged:
            type: bool
      address_family_rtc:
        type: dict
        keys:
          peer_groups:
            type: list
            primary_key: name
            convert_types:
              - dict
            items:
              type: dict
              keys:
                name:
                  type: str
                  description: Peer-group name
                activate:
                  type: bool
                default_route_target:
                  type: dict
                  keys:
                    only:
                      type: bool
                    encoding_origin_as_omit:
                      type: str
      address_family_ipv4:
        type: dict
        keys:
          networks:
            type: list
            primary_key: prefix
            convert_types:
              - dict
            items:
              type: dict
              keys:
                prefix:
                  description: IPv4 prefix "A.B.C.D/E" or IPv6 prefix "A:B:C:D:E:F:G:H/I"
                  type: str
                route_map:
                  description: Route-map name
                  type: str
          peer_groups:
            type: list
            primary_key: name
            convert_types:
              - dict
            items:
              type: dict
              keys:
                name:
                  type: str
                  description: Peer-group name
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
                default_originate:
                  type: dict
                  keys:
                    always:
                      type: bool
                    route_map:
                      description: Route-map name
                      type: str
                next_hop:
                  type: dict
                  keys:
                    address_family_ipv6:
                      type: dict
                      keys:
                        enabled:
                          type: bool
                          required: true
                        originate:
                          type: bool
                    address_family_ipv6_originate:
                      type: bool
                      deprecation:
                        warning: true
                        removed: false
                        new_key: address_family_ipv6
                        remove_in_version: 5.0.0
                prefix_list_in:
                  type: str
                  description: Inbound prefix-list name
                prefix_list_out:
                  type: str
                  description: Outbound prefix-list name
          neighbors:
            type: list
            primary_key: ip_address
            convert_types:
              - dict
            items:
              type: dict
              keys:
                ip_address:
                  type: str
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
                prefix_list_in:
                  type: str
                  description: Inbound prefix-list name
                prefix_list_out:
                  type: str
                  description: Prefix-list name
                default_originate:
                  type: dict
                  keys:
                    always:
                      type: bool
                    route_map:
                      type: str
      address_family_ipv4_multicast:
        type: dict
        keys:
          peer_groups:
            type: list
            primary_key: name
            convert_types:
              - dict
            items:
              type: dict
              keys:
                name:
                  type: str
                  description: Peer-group name
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
          neighbors:
            type: list
            primary_key: ip_address
            convert_types:
              - dict
            items:
              type: dict
              keys:
                ip_address:
                  type: str
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
          redistribute_routes:
            type: list
            primary_key: source_protocol
            convert_types:
              - dict
            items:
              type: dict
              keys:
                source_protocol:
                  type: str
                route_map:
                  type: str
      address_family_ipv4_sr_te:
        type: dict
        keys:
          neighbors:
            type: list
            primary_key: ip_address
            items:
              type: dict
              keys:
                ip_address:
                  type: str
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
          peer_groups:
            type: list
            primary_key: name
            items:
              type: dict
              keys:
                name:
                  type: str
                  description: Peer-group name
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
      address_family_ipv6:
        type: dict
        keys:
          networks:
            type: list
            primary_key: prefix
            convert_types:
              - dict
            items:
              type: dict
              keys:
                prefix:
                  description: IPv4 prefix "A.B.C.D/E" or IPv6 prefix "A:B:C:D:E:F:G:H/I"
                  type: str
                route_map:
                  description: Route-map name
                  type: str
          peer_groups:
            type: list
            primary_key: name
            convert_types:
              - dict
            items:
              type: dict
              keys:
                name:
                  type: str
                  description: Peer-group name
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
                prefix_list_in:
                  type: str
                  description: Inbound prefix-list name
                prefix_list_out:
                  type: str
                  description: Outbound prefix-list name
          neighbors:
            type: list
            primary_key: ip_address
            convert_types:
              - dict
            items:
              type: dict
              keys:
                ip_address:
                  type: str
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
                prefix_list_in:
                  type: str
                  description: Inbound prefix-list name
                prefix_list_out:
                  type: str
                  description: Outbound prefix-list name
          redistribute_routes:
            type: list
            primary_key: source_protocol
            convert_types:
              - dict
            items:
              type: dict
              keys:
                source_protocol:
                  type: str
                route_map:
                  type: str
                include_leaked:
                  type: bool
      address_family_ipv6_multicast:
        type: dict
        keys:
          bgp:
            type: dict
            keys:
              missing_policy:
                type: dict
                keys:
                  direction_in_action:
                    type: str
                    valid_values:
                      - "deny"
                      - "deny-in-out"
                      - "permit"
                  direction_out_action:
                    type: str
                    valid_values:
                      - "deny"
                      - "deny-in-out"
                      - "permit"
              additional_paths:
                type: dict
                keys:
                  receive:
                    type: bool
          neighbors:
            type: list
            primary_key: ip_address
            convert_types:
              - dict
            items:
              type: dict
              keys:
                ip_address:
                  type: str
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
          peer_groups:
            type: list
            primary_key: name
            convert_types:
              - dict
            items:
              type: dict
              keys:
                name:
                  type: str
                  description: Peer-group name
                activate:
                  type: bool
          networks:
            type: list
            primary_key: prefix
            convert_types:
              - dict
            items:
              type: dict
              keys:
                prefix:
                  type: str
                  description: IPv6 prefix "A:B:C:D:E:F:G:H/I"
                route_map:
                  type: str
      address_family_ipv6_sr_te:
        type: dict
        keys:
          neighbors:
            type: list
            primary_key: ip_address
            items:
              type: dict
              keys:
                ip_address:
                  type: str
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
          peer_groups:
            type: list
            primary_key: name
            items:
              type: dict
              keys:
                name:
                  type: str
                  description: Peer-group name
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
      address_family_link_state:
        type: dict
        keys:
          bgp:
            type: dict
            keys:
              missing_policy:
                type: dict
                keys:
                  direction_in_action:
                    type: str
                    valid_values:
                      - "deny"
                      - "deny-in-out"
                      - "permit"
                  direction_out_action:
                    type: str
                    valid_values:
                      - "deny"
                      - "deny-in-out"
                      - "permit"
          peer_groups:
            type: list
            primary_key: name
            items:
              type: dict
              keys:
                name:
                  type: str
                  description: Peer-group name
                activate:
                  type: bool
                missing_policy:
                  type: dict
                  keys:
                    direction_in_action:
                      type: str
                      valid_values:
                        - "deny"
                        - "deny-in-out"
                        - "permit"
                    direction_out_action:
                      type: str
                      valid_values:
                        - "deny"
                        - "deny-in-out"
                        - "permit"
          neighbors:
            type: list
            primary_key: ip_address
            items:
              type: dict
              keys:
                ip_address:
                  type: str
                activate:
                  type: bool
                missing_policy:
                  type: dict
                  keys:
                    direction_in_action:
                      type: str
                      valid_values:
                        - "deny"
                        - "deny-in-out"
                        - "permit"
                    direction_out_action:
                      type: str
                      valid_values:
                        - "deny"
                        - "deny-in-out"
                        - "permit"
          path_selection:
            type: dict
            keys:
              roles:
                type: dict
                keys:
                  producer:
                    type: bool
                  consumer:
                    type: bool
                  propagator:
                    type: bool
      address_family_flow_spec_ipv4:
        type: dict
        keys:
          bgp:
            type: dict
            keys:
              missing_policy:
                type: dict
                keys:
                  direction_in_action:
                    type: str
                    valid_values:
                      - "deny"
                      - "deny-in-out"
                      - "permit"
                  direction_out_action:
                    type: str
                    valid_values:
                      - "deny"
                      - "deny-in-out"
                      - "permit"
          neighbors:
            type: list
            primary_key: ip_address
            convert_types:
              - dict
            items:
              type: dict
              keys:
                ip_address:
                  type: str
                activate:
                  type: bool
          peer_groups:
            type: list
            primary_key: name
            convert_types:
              - dict
            items:
              type: dict
              keys:
                name:
                  type: str
                  description: Peer-group name
                activate:
                  type: bool
      address_family_flow_spec_ipv6:
        type: dict
        keys:
          bgp:
            type: dict
            keys:
              missing_policy:
                type: dict
                keys:
                  direction_in_action:
                    type: str
                    valid_values:
                      - "deny"
                      - "deny-in-out"
                      - "permit"
                  direction_out_action:
                    type: str
                    valid_values:
                      - "deny"
                      - "deny-in-out"
                      - "permit"
          neighbors:
            type: list
            primary_key: ip_address
            convert_types:
              - dict
            items:
              type: dict
              keys:
                ip_address:
                  type: str
                activate:
                  type: bool
          peer_groups:
            type: list
            primary_key: name
            convert_types:
              - dict
            items:
              type: dict
              keys:
                name:
                  type: str
                  description: Peer-group name
                activate:
                  type: bool
      address_family_path_selection:
        type: dict
        keys:
          bgp:
            type: dict
            keys:
              additional_paths:
                type: dict
                keys:
                  receive:
                    type: bool
                  send:
                    type: dict
                    keys:
                      any:
                        type: bool
                      backup:
                        type: bool
                      ecmp:
                        type: bool
                      ecmp_limit:
                        type: int
                        description: Amount of ECMP paths to send
                        convert_types:
                          - str
                        min: 2
                        max: 64
                      limit:
                        type: int
                        description: Amount of paths to send
                        convert_types:
                          - str
                        min: 2
                        max: 64
          neighbors:
            type: list
            primary_key: ip_address
            convert_types:
              - dict
            items:
              type: dict
              keys:
                ip_address:
                  type: str
                activate:
                  type: bool
                additional_paths:
                  type: dict
                  keys:
                    install:
                      type: bool
                    install_ecmp_primary:
                      type: bool
                    receive:
                      type: bool
                    send:
                      type: dict
                      keys:
                        any:
                          type: bool
                        backup:
                          type: bool
                        ecmp:
                          type: bool
                        ecmp_limit:
                          type: int
                          description: Amount of ECMP paths to send
                          convert_types:
                            - str
                          min: 2
                          max: 64
                        limit:
                          type: int
                          description: Amount of paths to send
                          convert_types:
                            - str
                          min: 2
                          max: 64
          peer_groups:
            type: list
            primary_key: name
            items:
              type: dict
              keys:
                name:
                  type: str
                  description: Peer-group name
                activate:
                  type: bool
                additional_paths:
                  type: dict
                  keys:
                    install:
                      type: bool
                    install_ecmp_primary:
                      type: bool
                    receive:
                      type: bool
                    send:
                      type: dict
                      keys:
                        any:
                          type: bool
                        backup:
                          type: bool
                        ecmp:
                          type: bool
                        ecmp_limit:
                          type: int
                          description: Amount of ECMP paths to send
                          convert_types:
                            - str
                          min: 2
                          max: 64
                        limit:
                          type: int
                          description: Amount of paths to send
                          convert_types:
                            - str
                          min: 2
                          max: 64
      address_family_vpn_ipv4:
        type: dict
        keys:
          domain_identifier:
            type: str
          peer_groups:
            type: list
            primary_key: name
            convert_types:
              - dict
            items:
              type: dict
              keys:
                name:
                  type: str
                  description: Peer-group name
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
          route:
            type: dict
            keys:
              import_match_failure_action:
                type: str
                valid_values:
                  - "discard"
          neighbors:
            type: list
            primary_key: ip_address
            convert_types:
              - dict
            items:
              type: dict
              keys:
                ip_address:
                  type: str
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
          neighbor_default_encapsulation_mpls_next_hop_self:
            type: dict
            keys:
              source_interface:
                type: str
      address_family_vpn_ipv6:
        type: dict
        keys:
          domain_identifier:
            type: str
          peer_groups:
            type: list
            primary_key: name
            convert_types:
              - dict
            items:
              type: dict
              keys:
                name:
                  type: str
                  description: Peer-group name
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
          route:
            type: dict
            keys:
              import_match_failure_action:
                type: str
                valid_values:
                  - "discard"
          neighbors:
            type: list
            primary_key: ip_address
            convert_types:
              - dict
            items:
              type: dict
              keys:
                ip_address:
                  type: str
                activate:
                  type: bool
                route_map_in:
                  type: str
                  description: Inbound route-map name
                route_map_out:
                  type: str
                  description: Outbound route-map name
          neighbor_default_encapsulation_mpls_next_hop_self:
            type: dict
            keys:
              source_interface:
                type: str
      vrfs:
        type: list
        primary_key: name
        convert_types:
          - dict
        items:
          type: dict
          keys:
            name:
              type: str
              description: VRF name
              convert_types:
                - int
            rd:
              type: str
              description: Route distinguisher
            evpn_multicast:
              type: bool
            evpn_multicast_address_family:
              type: dict
              description: Enable per-AF EVPN multicast settings
              keys:
                ipv4:
                  type: dict
                  keys:
                    transit:
                      type: bool
                      description: Enable EVPN multicast transit mode
            route_targets:
              type: dict
              keys:
                import:
                  type: list
                  primary_key: address_family
                  secondary_key: route_targets
                  convert_types:
                    - dict
                  items:
                    type: dict
                    keys:
                      address_family:
                        type: str
                      route_targets:
                        type: list
                        items:
                          type: str
                      route_map:
                        type: str
                export:
                  type: list
                  primary_key: address_family
                  secondary_key: route_targets
                  convert_types:
                    - dict
                  items:
                    type: dict
                    keys:
                      address_family:
                        type: str
                      route_targets:
                        type: list
                        items:
                          type: str
                      route_map:
                        type: str
            router_id:
              description: in IP address format A.B.C.D
              type: str
            timers:
              type: str
              description: BGP Keepalive and Hold Timer values in seconds as string "<0-3600> <0-3600>"
            networks:
              type: list
              primary_key: prefix
              convert_types:
                - dict
              items:
                type: dict
                keys:
                  prefix:
                    type: str
                    description: IPv4 prefix "A.B.C.D/E" or IPv6 prefix "A:B:C:D:E:F:G:H/I"
                  route_map:
                    type: str
            updates:
              type: dict
              keys:
                wait_for_convergence:
                  type: bool
                  description: |
                    Disables FIB updates and route advertisement when the BGP instance is initiated until the BGP convergence state is reached.
                wait_install:
                  type: bool
                  description: |
                    Do not advertise reachability to a prefix until that prefix has been installed in hardware.
                    This will eliminate any temporary black holes due to a BGP speaker advertising reachability to a prefix that may not yet be installed into the forwarding plane.
            listen_ranges:
              type: list
              description: |
                Improved "listen_ranges" data model to support multiple listen ranges and additional filter capabilities
              items:
                type: dict
                keys:
                  prefix:
                    type: str
                    description: IPv4 prefix "A.B.C.D/E" or IPv6 prefix "A:B:C:D:E:F:G:H/I"
                  peer_id_include_router_id:
                    type: bool
                    description: Include router ID as part of peer filter
                  peer_group:
                    type: str
                    description: Peer-group name
                  peer_filter:
                    type: str
                    description: |
                      Peer-filter name
                      note: `peer_filter`` or `remote_as` is required but mutually exclusive.
                      If both are defined, peer_filter takes precedence
                  remote_as:
                    type: str
                    description: BGP AS <1-4294967295> or AS number in asdot notation "<1-65535>.<0-65535>"
                    convert_types:
                      - int
            neighbors:
              type: list
              primary_key: ip_address
              convert_types:
                - dict
              items:
                type: dict
                keys:
                  ip_address:
                    type: str
                  peer_group:
                    type: str
                    description: Peer-group name
                  remote_as:
                    type: str
                    description: BGP AS <1-4294967295> or AS number in asdot notation "<1-65535>.<0-65535>"
                    convert_types:
                      - int
                  password:
                    type: str
                  passive:
                    type: bool
                  remove_private_as:
                    type: dict
                    description: Remove private AS numbers in outbound AS path
                    keys:
                      enabled:
                        type: bool
                      all:
                        type: bool
                      replace_as:
                        type: bool
                  remove_private_as_ingress:
                    type: dict
                    keys:
                      enabled:
                        type: bool
                      replace_as:
                        type: bool
                  weight:
                    type: int
                    min: 0
                    max: 65535
                    convert_types:
                      - str
                  local_as:
                    type: str
                    description: BGP AS <1-4294967295> or AS number in asdot notation "<1-65535>.<0-65535>"
                    convert_types:
                      - int
                  as_path:
                    type: dict
                    description: BGP AS-PATH options
                    keys:
                      remote_as_replace_out:
                        type: bool
                        description: Replace AS number with local AS number
                      prepend_own_disabled:
                        type: bool
                        description: Disable prepending own AS number to AS path
                  description:
                    type: str
                  route_reflector_client:
                    type: bool
                  ebgp_multihop:
                    type: int
                    min: 1
                    max: 255
                    description: Time-to-live in range of hops
                  next_hop_self:
                    type: bool
                  shutdown:
                    type: bool
                  bfd:
                    type: bool
                  timers:
                    type: str
                    description: BGP Keepalive and Hold Timer values in seconds as string "<0-3600> <0-3600>"
                  rib_in_pre_policy_retain:
                    type: dict
                    keys:
                      enabled:
                        type: bool
                      all:
                        type: bool
                  send_community:
                    type: str
                    description: "'all' or a combination of 'standard', 'extended', 'large' and 'link-bandwidth (w/options)'"
                  maximum_routes:
                    type: int
                    convert_types:
                      - str
                  maximum_routes_warning_limit:
                    type: str
                    convert_types:
                      - int
                    description: |
                      Maximum number of routes after which a warning is issued (0 means never warn) or
                      Percentage of maximum number of routes at which to warn ("<1-100> percent")
                  maximum_routes_warning_only:
                    type: bool
                  allowas_in:
                    type: dict
                    keys:
                      enabled:
                        type: bool
                      times:
                        type: int
                        convert_types:
                          - str
                        min: 1
                        max: 10
                        description: Number of local ASNs allowed in a BGP update
                  default_originate:
                    type: dict
                    keys:
                      enabled:
                        type: bool
                      always:
                        type: bool
                      route_map:
                        type: str
                  update_source:
                    type: str
                  route_map_in:
                    type: str
                    description: Inbound route-map name
                  route_map_out:
                    type: str
                    description: Outbound route-map name
                  prefix_list_in:
                    type: str
                    description: Inbound prefix-list name
                    deprecation:
                      warning: true
                      new_key: "router_bgp.vrfs[].address_family_ipv4.neighbors[].prefix_list_in or router_bgp.vrfs[].address_family_ipv6.neighbors[].prefix_list_in"
                      remove_in_version: 5.0.0
                  prefix_list_out:
                    type: str
                    description: Outbound prefix-list name
                    deprecation:
                      warning: true
                      new_key: "router_bgp.vrfs[].address_family_ipv4.neighbors[].prefix_list_out or router_bgp.vrfs[].address_family_ipv6.neighbors[].prefix_list_out"
                      remove_in_version: 5.0.0
            neighbor_interfaces:
              type: list
              primary_key: name
              convert_types:
                - dict
              items:
                type: dict
                keys:
                  name:
                    type: str
                    description: Interface name
                  remote_as:
                    type: str
                    description: BGP AS <1-4294967295> or AS number in asdot notation "<1-65535>.<0-65535>"
                    convert_types:
                      - int
                  peer_group:
                    type: str
                    description: Peer-group name
                  peer_filter:
                    type: str
                    description: Peer-filter name
                  description:
                    type: str
            redistribute_routes:
              type: list
              primary_key: source_protocol
              convert_types:
                - dict
                - list
              items:
                type: dict
                keys:
                  source_protocol:
                    type: str
                  route_map:
                    type: str
                  include_leaked:
                    type: bool
            aggregate_addresses:
              type: list
              primary_key: prefix
              convert_types:
                - dict
              items:
                type: dict
                keys:
                  prefix:
                    type: str
                    description: IPv4 prefix "A.B.C.D/E" or IPv6 prefix "A:B:C:D:E:F:G:H/I"
                  advertise_only:
                    type: bool
                  as_set:
                    type: bool
                  summary_only:
                    type: bool
                  attribute_map:
                    type: str
                  match_map:
                    type: str
            address_family_ipv4:
              type: dict
              keys:
                bgp:
                  type: dict
                  keys:
                    missing_policy:
                      type: dict
                      keys:
                        direction_in_action:
                          type: str
                          valid_values:
                            - "deny"
                            - "deny-in-out"
                            - "permit"
                        direction_out_action:
                          type: str
                          valid_values:
                            - "deny"
                            - "deny-in-out"
                            - "permit"
                    additional_paths:
                      type: dict
                      keys:
                        install:
                          type: bool
                        install_ecmp_primary:
                          type: bool
                        receive:
                          type: bool
                        send:
                          type: dict
                          keys:
                            any:
                              type: bool
                            backup:
                              type: bool
                            ecmp:
                              type: bool
                            ecmp_limit:
                              type: int
                              description: Amount of ECMP paths to send
                              convert_types:
                                - str
                              min: 2
                              max: 64
                            limit:
                              type: int
                              description: Amount of paths to send
                              convert_types:
                                - str
                              min: 2
                              max: 64
                neighbors:
                  type: list
                  primary_key: ip_address
                  convert_types:
                    - dict
                  items:
                    type: dict
                    keys:
                      ip_address:
                        type: str
                      activate:
                        type: bool
                      route_map_in:
                        type: str
                        description: Inbound route-map name
                      route_map_out:
                        type: str
                        description: Outbound route-map name
                      prefix_list_in:
                        type: str
                        description: Inbound prefix-list name
                      prefix_list_out:
                        type: str
                        description: Outbound prefix-list name
                      next_hop:
                        type: dict
                        keys:
                          address_family_ipv6:
                            type: dict
                            keys:
                              enabled:
                                type: bool
                                required: true
                              originate:
                                type: bool
                networks:
                  type: list
                  primary_key: prefix
                  convert_types:
                    - dict
                  items:
                    type: dict
                    keys:
                      prefix:
                        type: str
                        description: IPv4 prefix "A.B.C.D/E"
                      route_map:
                        type: str
            address_family_ipv6:
              type: dict
              keys:
                bgp:
                  type: dict
                  keys:
                    missing_policy:
                      type: dict
                      keys:
                        direction_in_action:
                          type: str
                          valid_values:
                            - "deny"
                            - "deny-in-out"
                            - "permit"
                        direction_out_action:
                          type: str
                          valid_values:
                            - "deny"
                            - "deny-in-out"
                            - "permit"
                    additional_paths:
                      type: dict
                      keys:
                        install:
                          type: bool
                        install_ecmp_primary:
                          type: bool
                        receive:
                          type: bool
                        send:
                          type: dict
                          keys:
                            any:
                              type: bool
                            backup:
                              type: bool
                            ecmp:
                              type: bool
                            ecmp_limit:
                              type: int
                              description: Amount of ECMP paths to send
                              convert_types:
                                - str
                              min: 2
                              max: 64
                            limit:
                              type: int
                              description: Amount of paths to send
                              convert_types:
                                - str
                              min: 2
                              max: 64
                neighbors:
                  type: list
                  primary_key: ip_address
                  convert_types:
                    - dict
                  items:
                    type: dict
                    keys:
                      ip_address:
                        type: str
                      activate:
                        type: bool
                      route_map_in:
                        type: str
                        description: Inbound route-map name
                      route_map_out:
                        type: str
                        description: Outbound route-map name
                      prefix_list_in:
                        type: str
                        description: Inbound prefix-list name
                      prefix_list_out:
                        type: str
                        description: Outbound prefix-list name
                networks:
                  type: list
                  primary_key: prefix
                  convert_types:
                    - dict
                  items:
                    type: dict
                    keys:
                      prefix:
                        type: str
                        description: IPv6 prefix "A:B:C:D:E:F:G:H/I"
                      route_map:
                        type: str
            address_family_ipv4_multicast:
              type: dict
              keys:
                bgp:
                  type: dict
                  keys:
                    missing_policy:
                      type: dict
                      keys:
                        direction_in_action:
                          type: str
                          valid_values:
                            - "deny"
                            - "deny-in-out"
                            - "permit"
                        direction_out_action:
                          type: str
                          valid_values:
                            - "deny"
                            - "deny-in-out"
                            - "permit"
                    additional_paths:
                      type: dict
                      keys:
                        receive:
                          type: bool
                neighbors:
                  type: list
                  primary_key: ip_address
                  convert_types:
                    - dict
                  items:
                    type: dict
                    keys:
                      ip_address:
                        type: str
                      activate:
                        type: bool
                      route_map_in:
                        type: str
                        description: Inbound route-map name
                      route_map_out:
                        type: str
                        description: Outbound route-map name
                networks:
                  type: list
                  primary_key: prefix
                  convert_types:
                    - dict
                  items:
                    type: dict
                    keys:
                      prefix:
                        type: str
                        description: IPv6 prefix "A.B.C.D/E"
                      route_map:
                        type: str
            address_family_ipv6_multicast:
              type: dict
              keys:
                bgp:
                  type: dict
                  keys:
                    missing_policy:
                      type: dict
                      keys:
                        direction_in_action:
                          type: str
                          valid_values:
                            - "deny"
                            - "deny-in-out"
                            - "permit"
                        direction_out_action:
                          type: str
                          valid_values:
                            - "deny"
                            - "deny-in-out"
                            - "permit"
                    additional_paths:
                      type: dict
                      keys:
                        receive:
                          type: bool
                neighbors:
                  type: list
                  primary_key: ip_address
                  convert_types:
                    - dict
                  items:
                    type: dict
                    keys:
                      ip_address:
                        type: str
                      activate:
                        type: bool
                      route_map_in:
                        type: str
                        description: Inbound route-map name
                      route_map_out:
                        type: str
                        description: Outbound route-map name
                networks:
                  type: list
                  primary_key: prefix
                  convert_types:
                    - dict
                  items:
                    type: dict
                    keys:
                      prefix:
                        type: str
                        description: IPv6 prefix "A:B:C:D:E:F:G:H/I"
                      route_map:
                        type: str
            address_family_flow_spec_ipv4:
              type: dict
              keys:
                bgp:
                  type: dict
                  keys:
                    missing_policy:
                      type: dict
                      keys:
                        direction_in_action:
                          type: str
                          valid_values:
                            - "deny"
                            - "deny-in-out"
                            - "permit"
                        direction_out_action:
                          type: str
                          valid_values:
                            - "deny"
                            - "deny-in-out"
                            - "permit"
                neighbors:
                  type: list
                  primary_key: ip_address
                  convert_types:
                    - dict
                  items:
                    type: dict
                    keys:
                      ip_address:
                        type: str
                      activate:
                        type: bool
            address_family_flow_spec_ipv6:
              type: dict
              keys:
                bgp:
                  type: dict
                  keys:
                    missing_policy:
                      type: dict
                      keys:
                        direction_in_action:
                          type: str
                          valid_values:
                            - "deny"
                            - "deny-in-out"
                            - "permit"
                        direction_out_action:
                          type: str
                          valid_values:
                            - "deny"
                            - "deny-in-out"
                            - "permit"
                neighbors:
                  type: list
                  primary_key: ip_address
                  convert_types:
                    - dict
                  items:
                    type: dict
                    keys:
                      ip_address:
                        type: str
                      activate:
                        type: bool
            address_families:
              type: list
              primary_key: address_family
              convert_types:
                - dict
              deprecation:
                warning: true
                new_key: address_family_*
                remove_in_version: 5.0.0
              items:
                type: dict
                keys:
                  address_family:
                    type: str
                  bgp:
                    type: dict
                    keys:
                      missing_policy:
                        type: dict
                        keys:
                          direction_in_action:
                            type: str
                            valid_values:
                              - "deny"
                              - "deny-in-out"
                              - "permit"
                          direction_out_action:
                            type: str
                            valid_values:
                              - "deny"
                              - "deny-in-out"
                              - "permit"
                      additional_paths:
                        type: list
                        items:
                          type: str
                  neighbors:
                    type: list
                    primary_key: ip_address
                    convert_types:
                      - dict
                    items:
                      type: dict
                      keys:
                        ip_address:
                          type: str
                        activate:
                          type: bool
                        route_map_in:
                          type: str
                          description: Inbound route-map name
                        route_map_out:
                          type: str
                          description: Outbound route-map name
                  peer_groups:
                    type: list
                    primary_key: name
                    convert_types:
                      - dict
                    items:
                      type: dict
                      keys:
                        name:
                          type: str
                          description: Peer-group name
                        activate:
                          type: bool
                        next_hop:
                          type: dict
                          keys:
                            address_family_ipv6_originate:
                              type: bool
                  networks:
                    type: list
                    primary_key: prefix
                    convert_types:
                      - dict
                    items:
                      type: dict
                      keys:
                        prefix:
                          type: str
                          description: IPv4 prefix "A.B.C.D/E" or IPv6 prefix "A:B:C:D:E:F:G:H/I"
                        route_map:
                          type: str
            eos_cli:
              type: str
              description: |
                Multiline EOS CLI rendered directly on the Router BGP, VRF definition in the final EOS configuration
      session_trackers:
        type: list
        primary_key: name
        items:
          type: dict
          keys:
            name:
              type: str
              description: Name of session tracker
            recovery_delay:
              type: int
              description: Recovery delay in seconds
              convert_types:
                - str
              min: 1
              max: 3600
