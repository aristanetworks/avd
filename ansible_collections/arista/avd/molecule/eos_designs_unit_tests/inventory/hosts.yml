---
all:
  children:
    EOS_DESIGNS_UNIT_TESTS:
      children:
        CLEAN_UNIT_TESTS: # Single Devices testing one specific case and only using hostvars
          hosts:
            always-configure-ip-routing:
            bgp-options:
            connected_endpoints:
            cvp-instance-ips-cvaas:
            cvp-instance-ips-onprem-token:
            custom-ptp-profile:
            device.with.dots.in.hostname:
            evpn-vtep-with-default-vrf-not-evpn:
            duplicate-vrfs:
            filter.only_vlans_in_use:
            filter.vrfs:
            generate-cv-tags-1:
            generate-cv-tags-2:
            ignore-custom-keys-in-data-models:
            isis-system-id-format-using-underlay-loopback:
            isis-system-id-format-using-node-id:
            no_mgmt_interface:
            no_mgmt_gateway:
            ntp-settings-1:
            ntp-settings-2:
            hardware_counters:
            source-interfaces:
            mgmt_interface_description:
            mgmt_interface_ipv6:
            mgmt_interface_dualstack:
            default_overlay_protocol_cvx:
            default_overlay_protocol_her:
            evpn_vlan_bundle:
            evpn_vlan_bundle_svi_l2vlan:
            default_interface_mtu_hostvars:
            default_interface_mtu_platform:
            evpn-to-ipvpn-gateway:
            vrfs_rd_rt_override:
            spanning-tree-mode-rapid-pvst:
            node-type-l3-interfaces:
            node-type-l3-interfaces-bgp:
            ipv4-acls:
            only-connected-endpoints:
            platform_settings:
            varpv6:
            custom-structured-configuration:
        OVERRIDE_UPLINK_TYPE:
          hosts:
            override_uplink_type-d:
            override_uplink_type-u:
        CORE_UNIT_TESTS:
          hosts:
            core-1-isis-sr-ldp:
            core-2-ospf-ldp:
            core-3-isis-sr-ldp:
            core-4-multicast:
        TRUNK_GROUP_TESTS:
          children:
            TRUNK_GROUP_TESTS_L3LEAF:
              hosts:
                trunk-group-tests-l3leaf1a:
                trunk-group-tests-l3leaf1b:
                trunk-group-tests-l3leaf2a:
                trunk-group-tests-l3leaf2b:
            TRUNK_GROUP_TESTS_L2LEAF:
              hosts:
                trunk-group-tests-l2leaf1a:
                trunk-group-tests-l2leaf1b:
                trunk-group-tests-l2leaf3:
                trunk-group-tests-l2leaf4:
        NETWORK_PORTS_TESTS:
          hosts:
            network-ports-tests.1:
            network-ports-tests-2:
        FABRIC_IP_ADDRESSING:
          children:
            MLAG_ODD_ID:
              hosts:
                MLAG_ODD_ID_L3LEAF1A:
                MLAG_ODD_ID_L3LEAF1B:
            MLAG_IPV6:
              hosts:
                MLAG_IPV6_L3LEAF1A:
                MLAG_IPV6_L3LEAF1B:
            MLAG_SAME_SUBNET:
              hosts:
                MLAG_SAME_SUBNET_L3LEAF1A:
                MLAG_SAME_SUBNET_L3LEAF1B:
                MLAG_SAME_SUBNET_L3LEAF2A:
                MLAG_SAME_SUBNET_L3LEAF2B:
          hosts:
            P2P-UPLINKS-IPV4-PREFIX-LENGTH:
        NODE_TYPE_OVERRIDES_TESTS:
          children:
            OVERRIDE_VTEP_LEAFS:
              hosts:
                OVERRIDE_VTEP_L3LEAF1A:
                OVERRIDE_VTEP_L3LEAF1B:
        UPLINK_MLAG_STRUCTURED_CONFIG_TESTS:
          children:
            UPLINK_MLAG_STRUCTURED_CONFIG_SPINES:
              hosts:
                UPLINK-MLAG-STRUCTURED-CONFIG-SPINE1:
            UPLINK_MLAG_STRUCTURED_CONFIG_L3LEAFS:
              hosts:
                UPLINK-MLAG-STRUCTURED-CONFIG-L3LEAF1A:
                UPLINK-MLAG-STRUCTURED-CONFIG-L3LEAF1B:
            UPLINK_MLAG_STRUCTURED_CONFIG_L2LEAFS:
              hosts:
                UPLINK-MLAG-STRUCTURED-CONFIG-L2LEAF1A:
                UPLINK-MLAG-STRUCTURED-CONFIG-L2LEAF1B:
        UNDERLAY_MULTICAST_TESTS:
          children:
            UNDERLAY_MULTICAST_SPINES:
              hosts:
                UNDERLAY-MULTICAST-SPINE1:
                UNDERLAY-MULTICAST-SPINE2:
            UNDERLAY_MULTICAST_L3LEAFS:
              children:
                UNDERLAY_MULTICAST_L3LEAF1:
                  hosts:
                    UNDERLAY-MULTICAST-L3LEAF1A:
                    UNDERLAY-MULTICAST-L3LEAF1B:
                UNDERLAY_MULTICAST_L3LEAF2:
                  hosts:
                    UNDERLAY-MULTICAST-L3LEAF2A:
                    UNDERLAY-MULTICAST-L3LEAF2B:
            UNDERLAY_MULTICAST_L2LEAFS:
              hosts:
                UNDERLAY-MULTICAST-L2LEAF1A:
        IGMP_QUERIER_TESTS:
          children:
            IGMP_QUERIER_L3LEAFS:
              hosts:
                IGMP-QUERIER-L3LEAF1A:
            IGMP_QUERIER_L2LEAFS:
              hosts:
                IGMP-QUERIER-L2LEAF1A:
        BGP_PEER_GROUPS:
          hosts:
            bgp-peer-groups-1:
            bgp-peer-groups-2:
            bgp-peer-groups-3:
              type: pe
        EVPN_MULTICAST_TESTS:
          children:
            EVPN_MULTICAST_TESTS_SPINES:
              hosts:
                EVPN-MULTICAST-SPINE1:
            EVPN_MULTICAST_TESTS_L3LEAFS:
              children:
                EVPN_MULTICAST_L3LEAF1:
                  hosts:
                    EVPN-MULTICAST-L3LEAF1A:
                    EVPN-MULTICAST-L3LEAF1B:
                EVPN_MULTICAST_L3LEAF2:
                  hosts:
                    EVPN-MULTICAST-L3LEAF2A:
                EVPN_MULTICAST_L3LEAF3:
                  hosts:
                    EVPN-MULTICAST-L3LEAF3A:
                    EVPN-MULTICAST-L3LEAF3B:
                EVPN_MULTICAST_DISABLED:
                  hosts:
                    EVPN-MULTICAST-DISABLED:
            EVPN_MULTICAST_TESTS_L2LEAFS:
              hosts:
                EVPN-MULTICAST-L2LEAF1A:
        BGP_FROM_NETWORK_SERVICES:
          hosts:
            bgp-from-network-services-1:
            bgp-from-network-services-2:
        SVI_PROFILE_TESTS:
          hosts:
            SVI_PROFILE_NODE_1:
            SVI_PROFILE_NODE_2:
        RD_RT_ADMIN_SUBFIELD_TESTS:
          hosts:
            RD-RT-ADMIN-SUBFIELD-L3LEAF1:
            RD-RT-ADMIN-SUBFIELD-L3LEAF2:
            RD-RT-ADMIN-SUBFIELD-L3LEAF3:
            RD-RT-ADMIN-SUBFIELD-L3LEAF4:
            RD-RT-ADMIN-SUBFIELD-L3LEAF5:
            RD-RT-ADMIN-SUBFIELD-L3LEAF6:
            RD-RT-ADMIN-SUBFIELD-L3LEAF7:
        CUSTOM_TEMPLATES_TESTS:
          children:
            CUSTOM_TEMPLATES_SPINES:
              hosts:
                CUSTOM-TEMPLATES-SPINE1:
            CUSTOM_TEMPLATES_L3LEAFS:
              hosts:
                CUSTOM-TEMPLATES-L3LEAF1A:
                CUSTOM-TEMPLATES-L3LEAF1B:
            CUSTOM_TEMPLATES_L2LEAFS:
              hosts:
                CUSTOM-TEMPLATES-L2LEAF1A:
                CUSTOM-TEMPLATES-L2LEAF1B:
        CUSTOM_PYTHON_MODULES_TESTS:
          children:
            CUSTOM_PYTHON_MODULES_SPINES:
              hosts:
                CUSTOM-PYTHON_MODULES-SPINE1:
            CUSTOM_PYTHON_MODULES_L3LEAFS:
              hosts:
                CUSTOM-PYTHON_MODULES-L3LEAF1A:
                CUSTOM-PYTHON_MODULES-L3LEAF1B:
                CUSTOM-PYTHON_MODULES-L3LEAF2:
        AUTO_BGP_ASN:
          hosts:
            AUTO_BGP_ASN_LEAF1A:
            AUTO_BGP_ASN_LEAF1B:
            AUTO_BGP_ASN_LEAF2:
            AUTO_BGP_ASN_LEAF3A:
            AUTO_BGP_ASN_LEAF3B:
            AUTO_BGP_ASN_LEAF4A:
            AUTO_BGP_ASN_LEAF4B:
            AUTO_BGP_ASN_LEAF5A:
            AUTO_BGP_UNGROUPED_LEAF6:
            AUTO_BGP_ASN_LEAF7A:
            AUTO_BGP_ASN_LEAF7B:
            AUTO_BGP_ASN_LEAF8A:
            AUTO_BGP_ASN_LEAF8B:
        AUTO_NODE_TYPE:
          hosts:
            AUTO_NODE_TYPE_SPINE01:
            AUTO_NODE_TYPE_SPINE02:
            AUTO_NODE_TYPE_LEAF01:
            AUTO_NODE_TYPE_UNGROUPED_LEAF02:
        OVERLAY_ROUTING_PROTOCOL_HER_TESTS:
          hosts:
            OVERLAY_ROUTING_PROTOCOL_HER_L3LEAF1:
            OVERLAY_ROUTING_PROTOCOL_HER_L3LEAF2:
            OVERLAY_ROUTING_PROTOCOL_HER_L3LEAF3A:
            OVERLAY_ROUTING_PROTOCOL_HER_L3LEAF3B:
        OVERLAY_ROUTING_PROTOCOL_CVX_TESTS:
          hosts:
            OVERLAY_ROUTING_PROTOCOL_CVX_L3LEAF1:
            OVERLAY_ROUTING_PROTOCOL_CVX_L3LEAF2:
            OVERLAY_ROUTING_PROTOCOL_CVX_SERVER1:
            OVERLAY_ROUTING_PROTOCOL_CVX_SERVER2:
        UNDERLAY_FILTER_PEER_AS_TESTS:
          hosts:
            UNDERLAY_FILTER_PEER_AS_L3LEAF1:
            UNDERLAY_FILTER_PEER_AS_SPINE1:
            UNDERLAY_FILTER_PEER_AS_SPINE2:
        PTP_TESTS:
          children:
            PTP_TESTS_SPINES:
              hosts:
                ptp-tests-spine1:
                ptp-tests-spine2:
                ptp-tests-spine3:
            PTP_TESTS_LEAFS:
              hosts:
                ptp-tests-leaf1:
                ptp-tests-leaf2:
            PTP_TESTS_L2LEAFS:
              hosts:
                ptp-tests-l2leaf1-ptp-disabled:
                ptp-tests-l2leaf2-ptp-enabled:
                ptp-tests-l2leaf2-ptp-enabled-uplink-disabled:
        SFLOW_TESTS:
          children:
            SFLOW_TESTS_SPINES:
              hosts:
                sflow-tests-spine1:
                sflow-tests-spine2:
            SFLOW_TESTS_LEAFS:
              hosts:
                sflow-tests-leaf1:
                sflow-tests-leaf2:
              children:
                SFLOW_TESTS_LEAF_MLAG:
                  hosts:
                    sflow-tests-leaf3:
                    sflow-tests-leaf4:
            SFLOW_TESTS_L2_LEAFS:
              hosts:
                sflow-tests-l2-leaf1:
                sflow-tests-l2-leaf2:
        FLOW_TRACKING_TESTS:
          children:
            FLOW_TRACKING_TESTS_SPINES:
              children:
                FLOW_TRACKING_TESTS_SPINES_1:
                  hosts:
                    flow-tracking-tests-spine1:
                FLOW_TRACKING_TESTS_SPINES_2:
                  hosts:
                    flow-tracking-tests-spine2:
            FLOW_TRACKING_TESTS_LEAFS:
              hosts:
                flow-tracking-tests-leaf1:
              children:
                FLOW_TRACKING_TESTS_LEAFS_2:
                  hosts:
                    flow-tracking-tests-leaf2:
                FLOW_TRACKING_TESTS_LEAF_MLAG:
                  children:
                    FLOW_TRACKING_TESTS_LEAFS_3:
                      hosts:
                        flow-tracking-tests-leaf3:
                  hosts:
                    flow-tracking-tests-leaf4:
            FLOW_TRACKING_TESTS_L2_LEAFS:
              hosts:
                flow-tracking-tests-l2-leaf1:
                flow-tracking-tests-l2-leaf2:
        SNMP_SETTINGS_TESTS:
          hosts:
            SNMP_SYSTEM_MAC_ENGINEID_1:
            SNMP_SYSTEM_MAC_ENGINEID_2:
            SNMP_AUTOGEN_ENGINEID:
            snmp-settings-1:
            snmp-settings-2:
        UNDERLAY_PEER_FILTER_TESTS:
          hosts:
            underlay_filter_peer_as_evpn_1:
            underlay_filter_peer_as_evpn_2:
            underlay_filter_peer_as_evpn_3:
        L3_EDGE_TESTS:
          hosts:
            l3_edge_bgp:
            l3_edge_ospf:
            l3_edge_isis:
            l3_edge_multicast:
        UPLINK_NATIVE_VLAN_TESTS:
          hosts:
            uplink-native-vlan-grandparent:
            uplink-native-vlan-parent:
            uplink-native-vlan-child:
        INBAND_MGMT_TESTS:
          hosts:
            inband-mgmt-parent:
            inband-mgmt-parent-vrf:
            inband-mgmt-subnet:
            inband-mgmt-subnet-vrf:
            inband-mgmt-ip:
            inband-mgmt-parent-dualstack1:
            inband-mgmt-parent-dualstack2:
            inband-mgmt-dualstack-subnets:
            inband-mgmt-dualstack-ips:
            inband-mgmt-parent-ipv6-1:
            inband-mgmt-parent-ipv6-2:
            inband-mgmt-ipv6-only:
            inband-mgmt-ipv6-only-vrf:
            inband-mgmt-mlag-a:
            inband-mgmt-mlag-b:
        MGMT_GATEWAY_TESTS:
          hosts:
            TEST-MGMT-GATEWAY-IN-NODE-GROUP:
        WAN_TESTS:
          children:
            LEGACY_AUTOVPN_TESTS:
              hosts:
                legacy-autovpn-rr1:
                legacy-autovpn-rr2:
                legacy-autovpn-edge:
            CV_PATHFINDER_TESTS:
              children:
                SITE_HA_ENABLED:
                  hosts:
                    cv-pathfinder-edge2A:
                    cv-pathfinder-edge2B:
                    site-ha-enabled-leaf2A:
                    site-ha-enabled-leaf2B:
                TRANSIT_SITE_HA_ENABLED:
                  hosts:
                    cv-pathfinder-transit1A:
                    cv-pathfinder-transit1B:
                    site-ha-enabled-leaf1:
                SITE_DIRECT_HA:
                  hosts:
                    cv-pathfinder-edge3A:
                    cv-pathfinder-edge3B:
                SITE_DIRECT_HA_PORT_CHANNEL:
                  hosts:
                    cv-pathfinder-edge4A:
                    cv-pathfinder-edge4B:
                SITE_HA_DISABLED:
                  hosts:
                    cv-pathfinder-edge:
                    cv-pathfinder-edge1:
                    site-ha-disabled-leaf:
                CV_PATHFINDERS:
                  hosts:
                    cv-pathfinder-pathfinder:
                  children:
                    CV_PATHFINDER_MULTI_RR_TESTS:
                      hosts:
                        cv-pathfinder-pathfinder1:
                        cv-pathfinder-pathfinder2:
                    CV_PATHFINDER_CUSTOM_CONTROL_PLANE_POLICY_TESTS:
                      hosts:
                        # Edge-1 and Pathfinder-1 override control plane policy but not app profile name
                        cv-pathfinder-custom-control-plane-policy-edge-1:
                        cv-pathfinder-custom-control-plane-policy-pathfinder-1:
                        # Edge 2 overrides the profile name but doesn't define the profile
                        cv-pathfinder-custom-control-plane-policy-edge-2:
                        # Edge 3 overrides the profile name and also defines the profile
                        cv-pathfinder-custom-control-plane-policy-edge-3:
            WAN_UNIT_TESTS:
              hosts:
                legacy-autovpn-edge-no-default-policy:
                cv-pathfinder-edge-no-default-policy:
                cv-pathfinder-edge-custom-default-policy:
        UPLINK_P2P_VRFS_TESTS:
          hosts:
            UPLINK_P2P_VRFS_TESTS_SPINE1:
            UPLINK_P2P_VRFS_TESTS_SPINE2:
            UPLINK_P2P_VRFS_TESTS_LEAF1:
            UPLINK_P2P_VRFS_TESTS_L2LEAF1:
        UPLINK_LAN_TESTS:
          hosts:
            uplink_lan_l2leaf:
            uplink_lan_wan_router1:
            uplink_lan_wan_router2:
        DOWNLINK_POOLS_TESTS:
          hosts:
            downlink-pools-spine1:
            downlink-pools-spine2:
            downlink-pools-l3leaf1:
            downlink-pools-l3leaf2:
            downlink-pools-l3leaf3:
            downlink-pools-l3leaf4:
        SINGLE_LINK_TO_MLAG_PAIR:
          hosts:
            SL-LEAF0A:
            SL-LEAF0B:
            SL-LEAF1A:
            SL-LEAF1B:
            SL-MLEAF1:
            SL-LEAF2A:
            SL-LEAF2B:
        AVD_LAB:
          children:
            DC1_FABRIC:
              children:
                DC1_SPINES:
                  hosts:
                    DC1-SPINE1:
                      ansible_host: 192.168.200.101
                    DC1-SPINE2:
                      ansible_host: 192.168.200.102
                    DC1-SPINE3:
                      ansible_host: 192.168.200.103
                    DC1-SPINE4:
                      ansible_host: 192.168.200.104
                DC1_LEAFS:
                  children:
                    DC1_LEAF1:
                      hosts:
                        DC1-LEAF1A:
                          ansible_host: 192.168.200.105
                    DC1_LEAF2:
                      hosts:
                        DC1-LEAF2A:
                          ansible_host: 192.168.200.106
                        DC1-LEAF2B:
                          ansible_host: 192.168.200.107
                    DC1_SVC3:
                      hosts:
                        DC1-SVC3A:
                          ansible_host: 192.168.200.108
                        DC1-SVC3B:
                          ansible_host: 192.168.200.109
                    DC1_BL1:
                      hosts:
                        DC1-BL1A:
                          ansible_host: 192.168.200.110
                        DC1-BL1B:
                          ansible_host: 192.168.200.111
                    DC1_BL2:
                      hosts:
                        DC1-BL2A:
                          ansible_host: 192.168.200.117
                        DC1-BL2B:
                          ansible_host: 192.168.200.118
                    DC1_CL1:
                      hosts:
                        DC1-CL1A:
                          ansible_host: 192.168.200.119
                        DC1-CL1B:
                          ansible_host: 192.168.200.120
                    UNIT_TESTS:
                      hosts:
                        evpn_services_l2_only_true:
                        evpn_services_l2_only_false:
                    DC1_UNDEPLOYED_LEAF1:
                      hosts:
                        DC1_UNDEPLOYED_LEAF1A:
                          is_deployed: false
                          ansible_host: 192.168.200.121
                        DC1_UNDEPLOYED_LEAF1B:
                          is_deployed: false
                          ansible_host: 192.168.200.122
                DC1_L2LEAFS:
                  children:
                    DC1_L2LEAF1:
                      hosts:
                        DC1-L2LEAF1A:
                          # Ensure is_deployed: true works as expected.
                          is_deployed: true
                          ansible_host: 192.168.200.112
                        DC1-L2LEAF1B:
                          is_deployed: true
                          ansible_host: 192.168.200.115
                    DC1_L2LEAF2:
                      hosts:
                        DC1-L2LEAF2A:
                          ansible_host: 192.168.200.113
                        DC1-L2LEAF2B:
                          ansible_host: 192.168.200.114
                    DC1_L2LEAF3:
                      hosts:
                        DC1-L2LEAF3A:
                          ansible_host: 192.168.200.116
                    DC1_L2LEAF4:
                      hosts:
                        DC1-L2LEAF4A:
                          ansible_host: 192.168.200.119
                    DC1_L2LEAF5:
                      hosts:
                        DC1.L2LEAF5A:
                          ansible_host: 192.168.200.120
                        DC1.L2LEAF5B:
                          ansible_host: 192.168.200.121
                    DC1_L2LEAF6:
                      hosts:
                        DC1.L2LEAF6A:
                          ansible_host: 192.168.200.122
                        DC1.L2LEAF6B:
                          ansible_host: 192.168.200.123
                    TESTS:
                      hosts:
                        mgmt_interface_default:
                        mgmt_interface_fabric:
                        mgmt_interface_host:
                        mgmt_interface_platform:
                MH_LEAFS_TESTS:
                  # Connected to Spine1 Eth10-12
                  children:
                    MH_L3LEAF1:
                      hosts:
                        MH-LEAF1A:
                        MH-LEAF1B:
                    MH_L3LEAF2:
                      hosts:
                        MH-LEAF2A:
                MH_L2LEAFS_TESTS:
                  hosts:
                    MH-L2LEAF1A:
                MLAG_OSPF_TESTS:
                  children:
                    MLAG_OSPF_L3LEAF1:
                      hosts:
                        MLAG-OSPF-L3LEAF1A:
                        MLAG-OSPF-L3LEAF1B:
            DC1_TENANTS_NETWORKS:
              children:
                DC1_LEAFS:
                DC1_L2LEAFS:

            DC1_SERVERS:
              children:
                DC1_LEAFS:
                DC1_L2LEAFS:

            MH_TENANT_NETWORKS:
              children:
                MH_LEAFS_TESTS:
                MH_L2LEAFS_TESTS:

            MH_SERVERS:
              children:
                MH_LEAFS_TESTS:
                MH_L2LEAFS_TESTS:
        DUPLICATE_SVIS_L2VLANS:
          hosts:
            DUP-LEAF1:
            DUP-LEAF2:
        PLATFORM_SETTINGS_TESTS:
          hosts:
            7010TX-LEAF1:
            7010TX-LEAF2:
